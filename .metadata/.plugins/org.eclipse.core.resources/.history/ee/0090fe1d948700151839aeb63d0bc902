package inicial;

public class Filosofo extends Thread {
	
	int posicionPalilloIzq;
	int posicionPalilloDer;
	int posicion;
	
	Mesa mesa;

	boolean vivo;
	
	public Filosofo(int posicion, Mesa mesa) {
		super();
		this.posicionPalilloIzq = posicion + 1;
		this.posicionPalilloDer = posicion - 1;
		this.posicion = posicion;
		this.mesa = mesa;
		if (posicion == mesa.getNumFilosofos() - 1) {
			posicionPalilloIzq = 0;
		} else {
			posicionPalilloIzq = posicion + 1;
		}
		if (posicion == 0) {
			posicionPalilloDer = mesa.getNumFilosofos() - 1;
		} else {
			posicionPalilloDer = posicion - 1;
		}
		
		vivo = true;
	}
	
	public void run() {
		while (vivo) {
			comer();
			pensar();
		}
	}

	private void pensar() {
		System.out.println("Filosofo pensando");
	}

	private void comer() {
		mesa.cogerPalilloIzq(posicionPalilloIzq);
		mesa.cogerPalilloDer(posicionPalilloDer);
		mesa.comer(posicion);
		mesa.dejarPalilloIzq(posicionPalilloIzq);
		mesa.dejarPalilloDer(posicionPalilloDer);
	}

	public void setVivo(boolean vivo) {
		this.vivo = vivo;
	}
	
	

}
